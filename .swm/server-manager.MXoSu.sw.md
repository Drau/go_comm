---
id: MXoSu
name: Server manager
file_version: 1.0.2
app_version: 0.6.5-2
file_blobs:
  conn_manager.go: f81892959e2f2ec0ff71d76be491eb20750aeca4
---

We have a main go routine in charge of incoming connections to the app.

basically its an infinite loop waiting for new connections then starting a new go routine per connection.

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ conn_manager.go
```go
â¬œ 77     
â¬œ 78     type connections map[string]*user
â¬œ 79     
ðŸŸ© 80     func serverManager(conns connections, chat *tview.TextView, logs *tview.TextView, loggedUsersUpdate chan bool) {
ðŸŸ© 81     
ðŸŸ© 82     	
ðŸŸ© 83     		}
ðŸŸ© 84     		remoteUser := user{name: RandomString(5), above18: true, conn: s, active: true}
ðŸŸ© 85     		fmt.Fprintf(logs, "Client "+s.RemoteAddr().String()+" connected.\n")
ðŸŸ© 86     		conns[remoteUser.name] = &remoteUser
ðŸŸ© 87     		loggedUsersUpdate <- true
ðŸŸ© 88     		sendDataToNewClient(conns["local"], &remoteUser, logs)
ðŸŸ© 89     		go handleConnection(conns, &remoteUser, chat, logs, loggedUsersUpdate)
ðŸŸ© 90     	}
ðŸŸ© 91     }
â¬œ 92     
â¬œ 93     func connectClient(conns connections, host string, chat *tview.TextView, logs *tview.TextView, loggedUsersUpdate chan bool, propogateConnect bool) bool {
â¬œ 94     	if host == "" {
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZ29fY29tbSUzQSUzQURyYXU=/docs/MXoSu).